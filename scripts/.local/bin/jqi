#!/bin/sh

jq "." -C "$1" |
    fzf --ansi --phony --reverse --multi \
    --bind "change:reload(jq {q} -C $1)" \
    --bind "ctrl-y:execute-silent(echo {} | xsel)" \
    --bind "enter:execute(echo jq \"{q}\" $1)+close" \
    --bind "ctrl-k:reload(jq {q}' | map_values(type)' -C $1)" \
    --bind "ctrl-alt-P:select-all+accept"
